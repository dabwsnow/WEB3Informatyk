<script setup>
import { ref, onMounted } from 'vue'

const isVisible = ref(false)
const lastUpdate = ref('07.10.2025')

const sections = ref([
  {
    id: 1,
    title: 'Informacje og√≥lne',
    icon: '‚ÑπÔ∏è',
    content: [
      'Administratorem danych osobowych zbieranych za po≈õrednictwem Platformy WEB3Informatyk jest WEB3Informatyk.',
      'Szanujemy TwojƒÖ prywatno≈õƒá i dok≈Çadamy wszelkich stara≈Ñ aby Twoje dane osobowe by≈Çy bezpieczne.',
      'Niniejsza Polityka Prywatno≈õci wyja≈õnia jak zbieramy, wykorzystujemy i chronimy Twoje dane osobowe.',
      'Korzystanie z Platformy oznacza akceptacjƒô zasad opisanych w tej Polityce.'
    ]
  },
  {
    id: 2,
    title: 'Jakie dane zbieramy?',
    icon: 'üìä',
    content: [
      'Dane podane podczas rejestracji: imiƒô, nazwisko, adres email, nazwa u≈ºytkownika.',
      'Dane techniczne: adres IP, typ przeglƒÖdarki, system operacyjny, data i godzina wizyty.',
      'Dane dotyczƒÖce aktywno≈õci: postƒôpy w nauce, wyniki test√≥w, statystyki u≈ºytkowania.',
      'Pliki cookies wykorzystywane do prawid≈Çowego dzia≈Çania Platformy i zapamiƒôtywania preferencji.'
    ]
  },
  {
    id: 3,
    title: 'W jakim celu przetwarzamy dane?',
    icon: 'üéØ',
    content: [
      '≈öwiadczenie us≈Çug edukacyjnych i funkcjonalno≈õci Platformy.',
      'Tworzenie i zarzƒÖdzanie kontem u≈ºytkownika.',
      '≈öledzenie postƒôp√≥w w nauce i generowanie statystyk.',
      'Komunikacja z u≈ºytkownikami i odpowiadanie na zapytania.',
      'Ulepszanie dzia≈Çania Platformy i dostosowywanie tre≈õci.',
      'Zapewnienie bezpiecze≈Ñstwa i zapobieganie nadu≈ºyciom.'
    ]
  },
  {
    id: 4,
    title: 'Podstawa prawna przetwarzania',
    icon: '‚öñÔ∏è',
    content: [
      'Zgoda u≈ºytkownika (art. 6 ust. 1 lit. a RODO) - dla opcjonalnych funkcji wymagajƒÖcych zgody.',
      'Wykonanie umowy (art. 6 ust. 1 lit. b RODO) - ≈õwiadczenie us≈Çug Platformy.',
      'Prawnie uzasadniony interes administratora (art. 6 ust. 1 lit. f RODO) - analiza statystyk, bezpiecze≈Ñstwo.',
      'ObowiƒÖzek prawny (art. 6 ust. 1 lit. c RODO) - gdy wymagane przepisami prawa.'
    ]
  },
  {
    id: 5,
    title: 'Udostƒôpnianie danych osobowych',
    icon: 'üîê',
    content: [
      'Nie sprzedajemy, nie wynajmujemy ani nie udostƒôpniamy Twoich danych osobowych podmiotom trzecim w celach marketingowych.',
      'Dane mogƒÖ byƒá udostƒôpniane zaufanym dostawcom us≈Çug technicznych (hosting, analityka) dzia≈ÇajƒÖcym w naszym imieniu.',
      'Mo≈ºemy ujawniƒá dane je≈õli bƒôdzie to wymagane przez prawo lub organy pa≈Ñstwowe.',
      'Wszyscy nasi partnerzy zobowiƒÖzani sƒÖ do ochrony danych zgodnie z RODO.'
    ]
  },
  {
    id: 6,
    title: 'Bezpiecze≈Ñstwo danych',
    icon: 'üõ°Ô∏è',
    content: [
      'Stosujemy odpowiednie ≈õrodki techniczne i organizacyjne w celu ochrony Twoich danych.',
      'Dane przesy≈Çane sƒÖ przy u≈ºyciu szyfrowanego po≈ÇƒÖczenia SSL/TLS.',
      'Dostƒôp do danych osobowych majƒÖ tylko upowa≈ºnione osoby.',
      'Regularnie aktualizujemy nasze systemy bezpiecze≈Ñstwa.',
      'W przypadku naruszenia bezpiecze≈Ñstwa danych niezw≈Çocznie powiadomimy u≈ºytkownik√≥w i odpowiednie organy.'
    ]
  },
  {
    id: 7,
    title: 'Pliki cookies',
    icon: 'üç™',
    content: [
      'Platforma wykorzystuje pliki cookies do zapewnienia prawid≈Çowego dzia≈Çania i zapamiƒôtywania preferencji.',
      'Cookies niezbƒôdne - wymagane do podstawowego dzia≈Çania strony (sesja, bezpiecze≈Ñstwo).',
      'Cookies funkcjonalne - zapamiƒôtujƒÖ Twoje preferencje i wybory.',
      'Cookies analityczne - pomagajƒÖ zrozumieƒá jak u≈ºytkownicy korzystajƒÖ z Platformy.',
      'Mo≈ºesz zarzƒÖdzaƒá cookies w ustawieniach swojej przeglƒÖdarki.'
    ]
  },
  {
    id: 8,
    title: 'Twoje prawa',
    icon: '‚úã',
    content: [
      'Prawo dostƒôpu do swoich danych osobowych.',
      'Prawo do sprostowania (poprawiania) nieprawid≈Çowych danych.',
      'Prawo do usuniƒôcia danych ("prawo do bycia zapomnianym").',
      'Prawo do ograniczenia przetwarzania danych.',
      'Prawo do przenoszenia danych do innego administratora.',
      'Prawo do wniesienia sprzeciwu wobec przetwarzania danych.',
      'Prawo do cofniƒôcia zgody w dowolnym momencie.',
      'Prawo do wniesienia skargi do organu nadzorczego (UODO).'
    ]
  },
  {
    id: 9,
    title: 'Okres przechowywania danych',
    icon: '‚è±Ô∏è',
    content: [
      'Dane konta u≈ºytkownika przechowujemy do momentu usuniƒôcia konta lub wycofania zgody.',
      'Dane dotyczƒÖce postƒôp√≥w w nauce przechowujemy przez okres aktywno≈õci konta.',
      'Dane techniczne i logi przechowujemy przez okres niezbƒôdny do zapewnienia bezpiecze≈Ñstwa (maksymalnie 12 miesiƒôcy).',
      'Po zako≈Ñczeniu okresu przechowywania dane sƒÖ bezpiecznie usuwane.'
    ]
  },
  {
    id: 10,
    title: 'Zmiany w Polityce Prywatno≈õci',
    icon: 'üîÑ',
    content: [
      'Zastrzegamy sobie prawo do wprowadzania zmian w niniejszej Polityce Prywatno≈õci.',
      'O wszelkich zmianach poinformujemy u≈ºytkownik√≥w za po≈õrednictwem Platformy lub email.',
      'Zmiany wchodzƒÖ w ≈ºycie w terminie wskazanym w powiadomieniu.',
      'Aktualna wersja Polityki jest zawsze dostƒôpna na stronie.'
    ]
  },
  {
    id: 11,
    title: 'Kontakt',
    icon: 'üìß',
    content: [
      'W przypadku pyta≈Ñ dotyczƒÖcych przetwarzania danych osobowych skontaktuj siƒô z nami:',
      'Email: kontakt@web3informatyk.pl',
      'Administrator danych: WEB3Informatyk',
      'Masz prawo do kontaktu z Inspektorem Ochrony Danych (je≈õli zosta≈Ç wyznaczony).'
    ]
  }
])

const scrollToSection = (sectionId) => {
  const element = document.getElementById(`section-${sectionId}`)
  if (element) {
    const offset = 100 // offset od g√≥ry
    const elementPosition = element.getBoundingClientRect().top + window.pageYOffset
    const offsetPosition = elementPosition - offset

    window.scrollTo({
      top: offsetPosition,
      behavior: 'smooth'
    })
  }
}

onMounted(() => {
  setTimeout(() => {
    isVisible.value = true
  }, 100)
})
</script>

<template>
  <div class="privacy-container" :class="{ visible: isVisible }">
    <!-- Hero Section -->
    <section class="hero-section">
      <div class="hero-content">
        <div class="hero-badge">
          <span class="badge-icon">üîí</span>
          <span class="badge-text">RODO</span>
        </div>
        
        <h1 class="hero-title">
          Polityka
          <span class="hero-title-accent">Prywatno≈õci</span>
        </h1>
        
        <p class="hero-description">
          Dowiedz siƒô jak chronimy Twoje dane osobowe i jakie masz prawa zgodnie z RODO. 
          Twoja prywatno≈õƒá jest dla nas priorytetem.
        </p>

        <div class="update-info">
          <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <circle cx="12" cy="12" r="10" stroke-width="2"/>
            <polyline points="12 6 12 12 16 14" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <span>Ostatnia aktualizacja: <strong>{{ lastUpdate }}</strong></span>
        </div>
      </div>
    </section>

    <!-- Important Notice -->
    <section class="notice-section">
      <div class="notice-card">
        <svg class="notice-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" stroke-width="2"/>
          <line x1="12" y1="9" x2="12" y2="13" stroke-width="2" stroke-linecap="round"/>
          <line x1="12" y1="17" x2="12.01" y2="17" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <div class="notice-content">
          <h3 class="notice-title">Wa≈ºne informacje o danych</h3>
          <p class="notice-text">
            Zgodnie z RODO (RozporzƒÖdzenie o Ochronie Danych Osobowych) masz pe≈ÇnƒÖ kontrolƒô nad swoimi danymi. 
            Mo≈ºesz je w ka≈ºdej chwili przeglƒÖdaƒá, modyfikowaƒá lub usunƒÖƒá.
          </p>
        </div>
      </div>
    </section>

    <!-- Table of Contents -->
    <section class="toc-section">
      <div class="toc-card">
        <h2 class="toc-title">Spis tre≈õci</h2>
        <ul class="toc-list">
          <li v-for="section in sections" :key="section.id" class="toc-item">
            <button 
              @click="scrollToSection(section.id)" 
              class="toc-link"
            >
              <span class="toc-icon">{{ section.icon }}</span>
              <span>{{ section.title }}</span>
            </button>
          </li>
        </ul>
      </div>
    </section>

    <!-- Sections -->
    <section class="content-section">
      <div 
        v-for="section in sections" 
        :key="section.id" 
        :id="`section-${section.id}`"
        class="content-card"
      >
        <div class="section-header">
          <span class="section-icon">{{ section.icon }}</span>
          <h2 class="section-title">{{ section.id }}. {{ section.title }}</h2>
        </div>
        
        <ul class="section-content">
          <li v-for="(item, index) in section.content" :key="index" class="content-item">
            {{ item }}
          </li>
        </ul>
      </div>
    </section>

    <!-- Rights Summary -->
    <section class="rights-summary">
      <div class="summary-card">
        <h2 class="summary-title">
          <span class="summary-icon">‚ö°</span>
          Twoje prawa w skr√≥cie
        </h2>
        <div class="rights-grid">
          <div class="right-item">
            <div class="right-icon">üëÅÔ∏è</div>
            <div class="right-title">Dostƒôp</div>
            <div class="right-text">Sprawd≈∫ jakie dane o Tobie posiadamy</div>
          </div>
          <div class="right-item">
            <div class="right-icon">‚úèÔ∏è</div>
            <div class="right-title">Poprawienie</div>
            <div class="right-text">Zaktualizuj nieprawid≈Çowe informacje</div>
          </div>
          <div class="right-item">
            <div class="right-icon">üóëÔ∏è</div>
            <div class="right-title">Usuniƒôcie</div>
            <div class="right-text">Usu≈Ñ swoje dane z naszej platformy</div>
          </div>
          <div class="right-item">
            <div class="right-icon">üì¶</div>
            <div class="right-title">Przeniesienie</div>
            <div class="right-text">Pobierz swoje dane w formacie elektronicznym</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer Note -->
    <section class="footer-note">
      <div class="note-card">
        <svg class="note-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <circle cx="12" cy="12" r="10" stroke-width="2"/>
          <path d="M12 16v-4M12 8h.01" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <div class="note-content">
          <h3 class="note-title">Masz pytania dotyczƒÖce swoich danych?</h3>
          <p class="note-text">
            Skontaktuj siƒô z nami poprzez 
            <router-link to="/contact" class="note-link">formularz kontaktowy</router-link>
            a odpowiemy na wszystkie Twoje pytania dotyczƒÖce przetwarzania danych osobowych.
          </p>
        </div>
      </div>
    </section>
  </div>
</template>

<style scoped>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.privacy-container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px 60px;
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.6s ease;
}

.privacy-container.visible {
  opacity: 1;
  transform: translateY(0);
}

/* Hero Section */
.hero-section {
  padding: 60px 0 40px;
  text-align: center;
}

.hero-content {
  max-width: 800px;
  margin: 0 auto;
}

.hero-badge {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 20px;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 50px;
  margin-bottom: 30px;
}

.badge-icon {
  font-size: 1.2rem;
}

.badge-text {
  font-size: 0.9rem;
  font-weight: 500;
  color: var(--color-text);
}

.hero-title {
  font-size: 3.5rem;
  font-weight: 800;
  line-height: 1.1;
  margin: 0 0 24px;
  color: var(--color-text);
}

.hero-title-accent {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  display: block;
}

.hero-description {
  font-size: 1.2rem;
  line-height: 1.7;
  color: var(--color-subtext);
  margin: 0 0 32px;
}

.update-info {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 12px 24px;
  background: rgba(102, 126, 234, 0.05);
  border: 1px solid rgba(102, 126, 234, 0.2);
  border-radius: 12px;
  font-size: 0.95rem;
  color: var(--color-text);
}

.info-icon {
  width: 20px;
  height: 20px;
  color: #667eea;
}

/* Notice Section */
.notice-section {
  padding: 20px 0 40px;
}

.notice-card {
  display: flex;
  gap: 20px;
  padding: 28px 32px;
  background: rgba(245, 158, 11, 0.05);
  border: 1px solid rgba(245, 158, 11, 0.2);
  border-left: 4px solid #f59e0b;
  border-radius: 16px;
}

.notice-icon {
  width: 32px;
  height: 32px;
  color: #f59e0b;
  flex-shrink: 0;
}

.notice-content {
  flex: 1;
}

.notice-title {
  font-size: 1.2rem;
  font-weight: 700;
  color: var(--color-text);
  margin: 0 0 12px;
}

.notice-text {
  font-size: 1rem;
  line-height: 1.6;
  color: var(--color-text);
  margin: 0;
}

/* Table of Contents */
.toc-section {
  padding: 40px 0;
}

.toc-card {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 16px;
  padding: 32px;
}

.toc-title {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-text);
  margin: 0 0 24px;
}

.toc-list {
  list-style: none;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 12px;
}

.toc-item {
  margin: 0;
}

.toc-link {
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
  padding: 12px 16px;
  background: rgba(102, 126, 234, 0.05);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  text-align: left;
  color: var(--color-text);
  font-weight: 500;
  font-size: 0.95rem;
  cursor: pointer;
  transition: all 0.3s ease;
}

.toc-link:hover {
  background: rgba(102, 126, 234, 0.1);
  border-color: rgba(102, 126, 234, 0.3);
  transform: translateX(4px);
}

.toc-icon {
  font-size: 1.3rem;
  flex-shrink: 0;
}

/* Content Section */
.content-section {
  padding: 40px 0;
}

.content-card {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 16px;
  padding: 32px;
  margin-bottom: 24px;
  scroll-margin-top: 100px;
}

.section-header {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-bottom: 24px;
  padding-bottom: 20px;
  border-bottom: 2px solid var(--color-border);
}

.section-icon {
  font-size: 2.5rem;
}

.section-title {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-text);
  margin: 0;
}

.section-content {
  list-style: none;
  padding: 0;
}

.content-item {
  position: relative;
  padding-left: 28px;
  margin-bottom: 16px;
  font-size: 1rem;
  line-height: 1.7;
  color: var(--color-text);
}

.content-item::before {
  content: "‚Ä¢";
  position: absolute;
  left: 8px;
  font-weight: 700;
  color: #667eea;
  font-size: 1.5rem;
}

.content-item:last-child {
  margin-bottom: 0;
}

/* Rights Summary */
.rights-summary {
  padding: 40px 0;
}

.summary-card {
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(118, 75, 162, 0.05));
  border: 1px solid rgba(102, 126, 234, 0.2);
  border-radius: 20px;
  padding: 40px 32px;
}

.summary-title {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  font-size: 2rem;
  font-weight: 700;
  color: var(--color-text);
  margin: 0 0 32px;
  text-align: center;
}

.summary-icon {
  font-size: 2rem;
}

.rights-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 24px;
}

.right-item {
  text-align: center;
  padding: 24px;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  transition: all 0.3s ease;
}

.right-item:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 24px var(--color-shadow);
}

.right-icon {
  font-size: 2.5rem;
  margin-bottom: 12px;
}

.right-title {
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--color-text);
  margin-bottom: 8px;
}

.right-text {
  font-size: 0.9rem;
  color: var(--color-subtext);
  line-height: 1.5;
}

/* Footer Note */
.footer-note {
  padding: 40px 0;
}

.note-card {
  display: flex;
  gap: 20px;
  padding: 32px;
  background: rgba(102, 126, 234, 0.05);
  border: 1px solid rgba(102, 126, 234, 0.2);
  border-left: 4px solid #667eea;
  border-radius: 16px;
}

.note-icon {
  width: 32px;
  height: 32px;
  color: #667eea;
  flex-shrink: 0;
}

.note-content {
  flex: 1;
}

.note-title {
  font-size: 1.2rem;
  font-weight: 700;
  color: var(--color-text);
  margin: 0 0 12px;
}

.note-text {
  font-size: 1rem;
  line-height: 1.6;
  color: var(--color-text);
  margin: 0;
}

.note-link {
  color: #667eea;
  font-weight: 600;
  text-decoration: none;
  transition: all 0.2s ease;
}

.note-link:hover {
  text-decoration: underline;
}

/* Responsive */
@media (max-width: 768px) {
  .privacy-container {
    padding: 0 16px 40px;
  }

  .hero-title {
    font-size: 2.5rem;
  }

  .hero-description {
    font-size: 1.05rem;
  }

  .toc-list {
    grid-template-columns: 1fr;
  }

  .content-card {
    padding: 24px;
  }

  .section-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
  }

  .notice-card,
  .note-card {
    flex-direction: column;
  }

  .rights-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 480px) {
  .hero-title {
    font-size: 2rem;
  }

  .hero-description {
    font-size: 0.95rem;
  }

  .toc-card,
  .content-card,
  .note-card,
  .summary-card {
    padding: 20px;
  }

  .section-title {
    font-size: 1.2rem;
  }

  .content-item {
    padding-left: 24px;
    font-size: 0.95rem;
  }
}
</style>